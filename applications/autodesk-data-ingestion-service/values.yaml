replicaCount: 1

image:
  repository: ghcr.io/temitayocharles/autodesk-data-ingestion-service
  tag: "staging-CHANGE-ME"
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: ghcr-creds

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

containerPort: 8000

resources:
  requests:
    memory: "64Mi"
    cpu: "50m"
  limits:
    memory: "256Mi"
    cpu: "250m"

env:
  config: {}

# Prefer central ConfigMaps from the configurations repo.
# - If `create=false`, the chart will not create a ConfigMap; it will reference `name`.
# - If `name` is empty and `create=false`, the deployment will reference `<fullname>-config`.
configMap:
  create: false
  name: ""

# Map env vars to keys in K8s Secrets created by ExternalSecrets (ESO).
# Recommended: keep a single secretName for the service, e.g. "data-ingestion-service-secret".
secrets: []

externalSecrets:
  enabled: true
  # Generated by vault-ops: manifests/clustersecretstores/vault-<repo>-<service>.yaml
  storeRef: "vault-autodesk-project-data-ingestion-service"
  refreshInterval: 1m
  # KV v2 mount: kv
  # Remote key format: <namespace>/<env>/<repo>/<service>
  basePath: "temitayo/staging/autodesk-project/data-ingestion-service"

ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
  hosts:
    - host: "autodesk-data-ingestion.local"
      paths:
        - path: /
          pathType: Prefix
