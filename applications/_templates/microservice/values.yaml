replicaCount: 1

image:
  repository: ghcr.io/temitayocharles/__IMAGE_REPO__
  tag: "staging-CHANGE-ME"
  pullPolicy: IfNotPresent

imagePullSecrets:
  - name: ghcr-creds

nameOverride: ""
fullnameOverride: ""

service:
  type: ClusterIP
  port: 80

containerPort: 8000

resources:
  requests:
    memory: "64Mi"
    cpu: "50m"
  limits:
    memory: "256Mi"
    cpu: "250m"

env:
  config: {}

# Map env vars to keys in K8s Secrets created by ExternalSecrets (ESO).
# Recommended: keep a single secretName for the service, e.g. "__SERVICE_NAME__-secret".
secrets: []

externalSecrets:
  enabled: true
  # Generated by vault-ops: manifests/clustersecretstores/vault-<repo>-<service>.yaml
  storeRef: "vault-__VAULT_REPO__-__VAULT_SERVICE__"
  refreshInterval: 1m
  # KV v2 mount: kv
  # Remote key format: <namespace>/<env>/<repo>/<service>
  basePath: "__VAULT_NAMESPACE__/__VAULT_ENV__/__VAULT_REPO__/__VAULT_SERVICE__"

ingress:
  enabled: true
  className: traefik
  annotations:
    traefik.ingress.kubernetes.io/router.entrypoints: web
  hosts:
    - host: "__HOSTNAME__"
      paths:
        - path: /
          pathType: Prefix

